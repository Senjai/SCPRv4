$headShotHeight: 70px;
$headShotWidth: 90px;

/* the following must match the slug of the program */
.madeleine-brand {
    background-image: url(image_path('broadcast-bar/headshots/madeleine-brand.png'));
	background-repeat: no-repeat;
}
.airtalk {
	background-image: url(image_path('broadcast-bar/headshots/airtalk.png'));
	background-repeat: no-repeat;
}
.patt-morrison {
	background-image: url(image_path('broadcast-bar/headshots/patt-morrison.png'));
	background-repeat: no-repeat;
}
.offramp {
	background-image: url(image_path('broadcast-bar/headshots/offramp.png'));
	background-repeat: no-repeat;
}

#featured-programs {
	h4 {
		color:$orangeDark;
		font-weight:600;
	}
	&>a {
		display: block;
		&:hover {
			text-decoration: none;
		}
	}
	li {
		background-position: left 6px;
		min-height:60px;
		padding-left:100px;
		&:hover {
			background-color:$nearWhite;
			cursor: pointer;
		}
		p {
			margin-bottom:0;
		}
	}
}

.program-masthead {
	border-bottom: 1px solid #a2a2a2;
	margin-bottom: $baseline / 2;
	margin-top: $baseline / 2 * -1;
	padding: 0 0 10px 0;
	.row {
		position: relative;
		min-height: $headShotHeight;
	}
	
	.show-title {
		position: relative;
		min-height: $headShotHeight;
	}
	
 	h2 {
		position: absolute;
		bottom: 0;
		text-transform: uppercase;
		margin-bottom: 0;
		@include font-headline;
		font-size: 40px;
		line-height: 30px;
		width: 400px;
		a {
			color: $black;
			&:hover {
				text-decoration: none;
			}
		}
	}
	
	.show-meta {
		position: absolute;
		right: 0;
		bottom: 0;
		text-align: right;
		min-height: $headShotHeight;
		padding-right: $headShotWidth;
		width: 240px;
		background-position: right top;
		.info {
			position: absolute;
			bottom: 0;
			right: $headShotWidth;
			@include font-sans-serif($size: 11px, $lineHeight: 14px);
		}
		
	}
	
	.span4 {
		margin: 0;
		.support {
			position: relative;
			top: 15px; /* hax */
			left: 14px;
			height: $headShotHeight - 7px;
			background: url(image_path('support-banner.png')) no-repeat left top;
			display:block;
			padding: 9px 9px 0 63px;
			margin: 0;
			width: 240px;
			color: #fff;
			text-shadow: 0 1px $orangeDark;
			@include font-slab-headings(300, 13px);
			overflow-y: hidden;
			&.madeleine-brand {
				font-size:11px;
				line-height:15px;
				padding-top:14px;
			}
		}
	}
}

.episodes {
	margin: 8px 0 0 0;
	padding: 0;
	position: relative;
	
	a.episode-teaser {
		display: block;
		&:hover {
			text-decoration: none;
			article {
				background-color: $nearWhite;
			}
		}
	}
	.span4 {
		margin: 0;
		@include font-navigation($size: 13px);
		color: $gray;
		min-height: $headShotHeight;
		.header {
			@include font-heading($size: 10px, $weight: normal);
			text-transform: uppercase;
			color: $black;
		}
		&.current {
			margin: 0;
			padding: 0 0 0 14px;
			border-right: 1px solid $grayLighter;
			background: url(image_path('icons/arrow-left.png')) no-repeat left;
		}
		&.upcoming {
			margin: 0;
			text-align: right;
			padding: 0 15px 0 0;
			background: url(image_path('icons/arrow-right.png')) no-repeat right;
		}
	}
}

nav.show, header.episode {
	background: #f5f5f5;
	border-bottom: 1px solid #bfbfbf;
	margin-left: 0px;
	margin-right: 0px;
	margin-bottom: 10px;
	padding: 8px 3px 8px 12px;
	@include font-heading($size: 12px, $weight: 600);
}

nav.show {
	border-top: 1px solid #bfbfbf;
	margin-top: 10px;
	text-transform: uppercase;
	a {
		color: #000;
		padding: 3px 5px;
		margin: 0 25px;
		border-radius: 3px;
		-moz-border-radius: 3px;
		-webkit-border-radius: 3px;
		&:first-of-type {
			margin-left: 0;
		}
		&:last-of-type {
			margin-right: 0;
		}
		&:hover {
			background: #9c9c9c;
			color: $nearWhite;
			text-shadow: 0 1px #000;
			text-decoration: none;
		}
	}
}

.program-about{
	border-top: 1px solid lighten($gray, 30%);
	border-bottom: 1px solid $grayLighter;
	padding: 0 0 5px 0;
}

a.with-icon {
	margin-left: 4px;
	display: block;
	line-height: 14px;
	background-repeat: no-repeat;
	background-position: left 3px;
	color: lighten($black, 40%);
	&.twitter {
		background-image: url(image_path("icons/tiny-twitter.png"));
	}
	&.facebook {
		background-image: url(image_path("icons/tiny-facebook.png"));
	}
	&.podcast {
		background-image: url(image_path("icons/tiny-podcast.png"));
	}
	&.rss {
		background-image: url(image_path("icons/tiny-rss.png"));
	}
	&.archive {
		@include font-sans-serif($size: 12px, $weight: bold);
		background-image: url(image_path("icons/archived.png"));
		padding-left: 21px;
	}
	&:hover {
		text-decoration: underline;
	}
}

.connect {
	.title {
		display: block;
		@include font-heading($size: 12px, $weight: 600, $lineHeight: 14px);
		margin-bottom:5px;
		text-transform: uppercase;
	}
	a {
		@include font-sans-serif($weight: normal, $size: 12px);
		margin-bottom:2px;
		padding-left: 18px;
	}
	margin-bottom: 10px;
}

.about {
	min-height: 100px;
	margin: 0;
	color: $gray;
	@include font-sans-serif($size: 12px, $lineHeight: 16px);
}

.newsletter-subscribe {
	padding: 5px;
	form {
		input.email {
			padding-left: 30px;
			background: url(image_path("icons/envelope-open.png")) no-repeat 5px 2px;
			height: 15px;
			@include font-sans-serif($size: 10px);
			display: inline-block;
		}
		
		input[type=submit] {
			@include font-shorthand($size: 10px, $weight: normal);
			display: inline-block;
			padding: 2px 7px 1px 7px;
			margin: 0 0 0 7px;
		}
	}
}

.missed-it {
	display: none; /* temporary */
	li {
		list-style: none;
	}
}

.show-episodes {  
	border-top:1px solid $grayLight;
	margin-top:$baseline;
	padding-top:$baseline / 2;  
    h2 {
       color: $orangeDark;
		font-size: 18px;
		font-weight: 600;
    }
}

.show-episode {
	border-bottom: 1px solid $grayLighter;
    margin-top: $baseline;
	padding-bottom: 16px;
    .span2 img {
       width: 170px;
       height: 170px;
    }
	h3 {
		@include font-headline();
		font-size:20px;
		a {
			color: $nearBlack;
		}
	}
	p {
		font-size:13px;
		line-height:18px;
	}
}

.current-episode {
    h2 {
		font-size:18px;
        font-weight: 600;
        margin: 6px 0 12px 0;
		a {
			color:$nearBlack;
		}
    }
    
    h3 {
        margin-top: 8px;
    }
}
.current-episode-segments {
	h3 {
		font-size:16px;
		font-weight:600;
	}
	.cbase {
		margin-bottom:$baseline / 2;
		a.comment_link {
			margin-left:0;
		}
	}
}

.upcoming-episode {
    margin: 12px 0;
    padding: 12px 0;
    border-top: 1px solid #ccc;
    
    h3 {
        font-weight: 400;
        
        b {
            color: $orangeDark;
            font-weight: inherit;
        }
    }
    
    p {
        margin-bottom: 0;
    }
}
