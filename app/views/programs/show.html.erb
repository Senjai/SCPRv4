<% page_title @program.title %>

<% if @program.display_episodes %>
	<%= render :partial => "current_episode", :object => @program.episodes.published.first %>

	<% if upcoming = @program.episodes.upcoming.first %>
		<div class="upcoming-episode">
			<h3><b>Coming Up:</b> <%= upcoming.title %></h3>
			<p><%= upcoming.teaser %></p>
		</div>
	<% end %>	
<% end %>

<% if @program.display_segments %>
	<section class="show-segments">
		<h2>Recently on <%= @program.title %></h2>
		
		<%= render :partial => "segment", :collection => @segments %>
		<%= will_paginate @segments, previous_label: "&laquo; Newer".html_safe, next_label: "Older &raquo;".html_safe %>
	</section>
	
<% elsif @program.display_episodes %>	

	<section class="show-episodes">
		<h2>Recently on <%= @program.title %></h2>
		
		<%= render :partial => "episode", :collection => @episodes %>
		<%= will_paginate @episodes, previous_label: "&laquo; Newer".html_safe, next_label: "Older &raquo;".html_safe %>
	</section>	
<% end %>



